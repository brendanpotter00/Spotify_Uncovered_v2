(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(42),c=a.n(o),i=(a(53),a(7)),s=(a(55),a(36)),l=a.n(s),u="https://accounts.spotify.com/authorize",m=["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"],d=function(){return window.location.hash.substring(1).split("&").reduce(function(e,t){var a=t.split("=");return e[a[0]]=decodeURIComponent(a[1]),e},{})},p="".concat(u,"?client_id=").concat("c4cbffae207c414eb633445b69de2543","&redirect_uri=").concat("https://brendanpotter00.github.io/Spotify_Uncovered_v2/","&scope=").concat(m.join("%20"),"&response_type=token&show_dialog=true"),f="".concat(u,"?client_id=").concat("c4cbffae207c414eb633445b69de2543","&redirect_uri=").concat("http://localhost:3000/","&scope=").concat(m.join("%20"),"&response_type=token&show_dialog=true"),h=(a(57),a(142));var v=function(){return r.a.createElement("div",{className:"login"},r.a.createElement("img",{src:"https://storage.googleapis.com/pr-newsroom-wp/1/2018/11/Spotify_Logo_RGB_White.png",alt:"Spotify Logo"}),r.a.createElement(h.a,{variant:"contained",href:p,color:"primary"},"login with spotify"),r.a.createElement("button",{className:"spotify-button"},r.a.createElement("a",{href:f},"Login for testing")))},g=a(18),y=(a(81),a(83),a(109)),b=a(147),E=a(146),w=a(149);var k=Object(y.a)();k=Object(b.a)(k);var j=function(e){var t=e.trackInfo;return r.a.createElement(E.a,{theme:k},r.a.createElement("div",{class:"top20Row"},r.a.createElement("div",{class:"top20Img"},r.a.createElement("img",{src:t.img,alt:"Song Cover for"+t.name})),r.a.createElement("div",{class:"songInfo"},r.a.createElement("div",{class:"songName"},r.a.createElement(w.a,{sx:{typography:{xs:"h3",sm:"h4"}}},t.name)),r.a.createElement("div",{class:"songArtist"},r.a.createElement(w.a,{sx:{typography:{xs:"h4",sm:"h5"}}},t.artists))),r.a.createElement("div",{class:"songMetrics"},r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"statName"},r.a.createElement(w.a,{sx:{typography:{xs:"h4",sm:"h5"}}},"Energy: ")),r.a.createElement("div",{class:"stat"},r.a.createElement(w.a,{sx:{typography:{xs:"h4",sm:"h5"}}},t.energy))),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"statName"},r.a.createElement(w.a,{sx:{typography:{xs:"h4",sm:"h5"}}},"Danceability: ")),r.a.createElement("div",{class:"stat"},r.a.createElement(w.a,{sx:{typography:{xs:"h4",sm:"h5"}}},t.danceability))),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"statName"},r.a.createElement(w.a,{sx:{typography:{xs:"h4",sm:"h5"}}},"Happiness: ")),r.a.createElement("div",{class:"stat"},r.a.createElement(w.a,{sx:{typography:{xs:"h4",sm:"h5"}}},t.valence))))))},x=a(24),O=a(72),S=a(73),A=a(100),C=a(74),N=a(101),I=a(99),F=function(e){function t(){var e,a;Object(O.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(A.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r)))).interval=void 0,a.state={isAnimated:!1},a}return Object(N.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.repeat?this.interval=window.setInterval(function(){e.setState({isAnimated:!e.state.isAnimated})},1e3*this.props.duration):this.setState({isAnimated:!this.state.isAnimated})}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement(I.a,{start:function(){return{value:e.props.valueStart}},update:function(){return{value:[e.state.isAnimated?e.props.valueEnd:e.props.valueStart],timing:{duration:1e3*e.props.duration,ease:e.props.easingFunction}}}},function(t){var a=t.value;return e.props.children(a)})}}]),t}(r.a.Component);F.defaultProps={valueStart:0};a(87),a(89),a(91);var T=function(e){var t=e.props,a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],s=o[1],l=t.energy,u=t.valence,m=t.dance;function d(e){return e<=25}function p(e){return e<=40&&e>25}function f(e){return e<=55&&e>40}function v(e){return e<=70&&e>55}function g(e){return e>70}return r.a.createElement("div",{className:"phrase-container"},c?r.a.createElement("div",{className:"inner-phrase-container"},p(u)&&f(l)&&p(m)?"Feeling kinda meh, huh? It's okay we've all been there":(d(l)||p(l))&&(d(m)||p(m)||f(m))&&(v(u)||g(u))?"I think you could stand to spice it up a bit. Not EVERY song needs to be a slow song":(v(l)||g(l))&&(v(u)||g(u))&&(d(m)||p(m)||f(m))?"Aww you're happy AND energetic?? That's so nice :)":(v(l)||g(l))&&(v(m)||g(m))&&(d(u)||p(u)||f(u))?"Have you heard of 'chill'? You could use it":(d(l)||p(l))&&(d(u)||p(u)||f(u))&&(d(m)||p(m)||f(m))?"You seem like you could use a pick me up. Grab a coffee and go for a walk":(v(u)||g(u))&&(f(l)||v(l)||g(l))?"Your music suggests you are doing great. Way to embrace 'fake it till you make it'":f(u)&&f(m)&&f(l)?"Nothin wrong with floating in the middle":(f(u)||v(u))&&f(m)&&f(l)||(f(m)||v(m))&&f(u)&&f(l)||(f(l)||v(l))&&f(m)&&f(u)?"Congrats! You're just barely not basic :)":f(m)&&f(l)?"Ahhh so you're the mellow type":g(l)?"Maybe you should lay off the caffeine for a bit, just a suggestion":g(m)?"Wow... I hope you're at least a good dancer":d(u)||p(u)?"You seem a bit sad, might I suggest Spotify's 'Mood Booster' playlist":"I like your tunes!"):r.a.createElement(h.a,{variant:"contained",onClick:function(){s(!0)},color:"primary",sx:{borderRadius:7}},r.a.createElement(w.a,{sx:{padding:1},variant:"h6"},"Click Me")))};function M(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw o}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var _=function(e){function t(e){var t=e.map(function(e){return t=50,a=e,Math.abs(t-a)/((t+a)/2);var t,a}).reduce(function(t,a,n){return t[0]=t[0]+e[n]*a,t[1]=t[1]+a,t},[0,0]),a=Object(i.a)(t,2),n=a[0],r=a[1];return Math.round(n/r)}var a,n=[],o=[],c=[],s=M(e.props);try{for(s.s();!(a=s.n()).done;){var l=a.value;n.push(l.energy),o.push(l.valence),c.push(l.danceability)}}catch(f){s.e(f)}finally{s.f()}var u=t(n),m=t(o),d=t(c),p={energy:u,valence:m,dance:d};return r.a.createElement("div",null,r.a.createElement("div",{className:"bars"},r.a.createElement("div",{className:"firstbar"},r.a.createElement(x.a,{className:"circleBar",value:u,text:"".concat(u),background:!0,backgroundPadding:6,styles:Object(x.b)({rotation:1,strokeLinecap:"round",textSize:"1.8rem",pathTransitionDuration:.5,backgroundColor:"#FDA766",textColor:"#fff",pathColor:"#fff",trailColor:"transparent"})}),r.a.createElement(w.a,{sx:{padding:1,typography:{xs:"Subtitle2",sm:"h5",md:"h4"}}},"Energy")),r.a.createElement("div",{className:"secondbar"},r.a.createElement(x.a,{className:"circleBar",value:m,text:"".concat(m),background:!0,backgroundPadding:6,styles:Object(x.b)({rotation:1,strokeLinecap:"round",textSize:"1.8rem",pathTransitionDuration:.5,backgroundColor:"#FD9346",textColor:"#fff",pathColor:"#fff",trailColor:"transparent"})}),r.a.createElement(w.a,{sx:{padding:1,typography:{xs:"Subtitle2",sm:"h5",md:"h4"}}},"Happiness")),r.a.createElement("div",{className:"thirdbar"},r.a.createElement(x.a,{className:"circleBar",value:d,text:"".concat(d),background:!0,backgroundPadding:6,styles:Object(x.b)({rotation:1,strokeLinecap:"round",textSize:"1.8rem",pathTransitionDuration:.5,backgroundColor:"#FD7F2C",textColor:"#fff",pathColor:"#fff",trailColor:"transparent"})}),r.a.createElement(w.a,{sx:{padding:1,typography:{xs:"Subtitle2",sm:"h5",md:"h4"}}},"Danceability"))),r.a.createElement(T,{props:p}))},R=a(71),B=a.n(R),L=a(43),Y=a(5),z=(a(95),a(9)),P=a(134),U=a(145),W=a(150),H=a(143),G=a(44),J=a.n(G);function $(e,t){var a="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return V(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw o}}}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var q=Object(z.a)("div")(function(e){var t=e.theme;return Object(Y.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(P.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(P.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})}),K=Object(z.a)("div")(function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}}),Q=Object(z.a)(H.a)(function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(Y.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}});var X=function(e){var t=e.props,a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)([]),u=Object(i.a)(l,2),m=u[0],d=u[1],p=function(e,t){var a=Object(n.useState)(e),r=Object(i.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)(function(){var a=setTimeout(function(){c(e)},t);return function(){clearTimeout(a)}},[e,t]),o}(c,400),f=t.spotify;function h(e){return Math.round(100*e)}var v=function(){var e=Object(L.a)(B.a.mark(function e(t){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t.target.value);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){d([]),f.searchTracks(c,{limit:3,offset:0}).then(function(e){e.tracks.items.map(function(e){f.getAudioFeaturesForTrack(e.id).then(function(t){var a={id:e.id,name:e.name,artists:e.artists[0].name,energy:h(t.energy),valence:h(t.valence),danceability:h(t.danceability),img:e.album.images[0].url};d(function(e){return[].concat(Object(g.a)(e),[a])})})})})},[p]);var y,b=[],E=$(m);try{for(E.s();!(y=E.n()).done;){var k=y.value,j=r.a.createElement("div",{class:"top20Row"},r.a.createElement("div",{class:"top20Img"},r.a.createElement("img",{src:k.img,alt:"Song Cover for"+k.name})),r.a.createElement("div",{class:"songInfo"},r.a.createElement("div",{class:"songName"},k.name),r.a.createElement("div",{class:"songArtist"},k.artists)),r.a.createElement("div",{class:"songMetrics"},r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Energy: "),r.a.createElement("div",{class:"stat"},k.energy)),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Dance: "),r.a.createElement("div",{class:"stat"},k.danceability)),r.a.createElement("div",{class:"metric"},r.a.createElement("div",{class:"stringName"},"Happiness: "),r.a.createElement("div",{class:"stat"},k.valence))));b.push(j)}}catch(x){E.e(x)}finally{E.f()}return r.a.createElement("div",null,r.a.createElement(U.a,{position:"static"},r.a.createElement(W.a,null,r.a.createElement(w.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}}},"spotify uncovered"),r.a.createElement(q,null,r.a.createElement(K,null,r.a.createElement(J.a,null)),r.a.createElement(Q,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},onChange:v,value:c})))),r.a.createElement("div",{className:"searchResultsContainer"},r.a.createElement("div",{class:"topResults"},b)))},Z=a(148),ee=a(141),te=a(98),ae=a.n(te);var ne=function(e){var t=e.props,a=t.spotify,o=Object(n.useState)([]),c=Object(i.a)(o,2),s=c[0],l=c[1],u=r.a.useState(!0),m=Object(i.a)(u,2),d=m[0],p=m[1];function f(e){return Math.round(100*e)}return Object(n.useEffect)(function(){setTimeout(function(){p(!1)},3e3),a.getMyTopTracks().then(function(e){e.items.map(function(e){a.getAudioFeaturesForTrack(e.id).then(function(t){var a={id:e.id,name:e.name,artists:e.artists[0].name,energy:f(t.energy),valence:f(t.valence),danceability:f(t.danceability),img:e.album.images[0].url};l(function(e){return[].concat(Object(g.a)(e),[a])})})})},function(e){console.log("Error:",e)})},[]),r.a.createElement("div",{className:"loading"},d?r.a.createElement("div",{className:"loadBar"},r.a.createElement(ae.a,{height:5,width:300,color:"#FD9346",loading:d}),r.a.createElement("h3",{className:"text"}," Analyzing Data")):r.a.createElement("div",{className:"dashboard_container"},r.a.createElement(X,{props:t}),r.a.createElement(_,{props:s}),r.a.createElement(Z.a,{sx:{width:"100%"}},r.a.createElement("div",{class:"top20Table"},r.a.createElement(ee.a,{spacing:2},s.map(function(e){return r.a.createElement(j,{trackInfo:e})}))))))},re=a(10),oe=Object(y.a)({palette:{type:"dark",primary:{light:"#DF7C52",main:"#d85c27",dark:"#97401B",contrastText:"#fff"},secondary:{light:"#587CA5",main:"#2f5c8f",dark:"#204064",contrastText:"#fff"},shape:{borderRadius:4},background:{default:"#303030",paper:"#424242"},text:{primary:"#d85c27",secondary:"#DF7C52",default:"#FFFFFF"}}}),ce=new l.a;var ie=function(){var e=n.useState(null),t=Object(i.a)(e,2),a=t[0],r=t[1],o=n.useState(null),c=Object(i.a)(o,2),s=(c[0],c[1]);n.useEffect(function(){var e=d();window.location.hash="";var t=e.access_token;t&&(r(t),ce.setAccessToken(t),ce.getMe().then(function(e){s(e)}))},[]);var l={spotify:ce,token:a};return n.createElement(re.f,{theme:oe},n.createElement("div",{className:"App"},a?n.createElement(ne,{props:l}):n.createElement(v,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root"))},45:function(e,t,a){e.exports=a(110)},53:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},87:function(e,t,a){},91:function(e,t,a){},95:function(e,t,a){}},[[45,2,1]]]);
//# sourceMappingURL=main.d69988a1.chunk.js.map